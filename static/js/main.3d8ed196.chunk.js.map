{"version":3,"sources":["images/fail.webp","components/LoaderContainer.js","components/SearchContainer.js","components/PhotoContainer.js","components/ErrorContainer.js","components/UrlErrorContainer.js","components/App.js","index.js"],"names":["module","exports","LoaderContainer","className","type","color","height","width","timeout","SearchContainer","props","state","value","warning","page","loading","handleChange","bind","handleSubmit","e","this","setState","target","preventDefault","length","handleSearch","onSubmit","minLength","debounceTimeout","onChange","React","Component","PhotoContainer","getValue","breakpointColumnsObj","default","1200","1000","800","600","random","randomPhotos","all","map","el","key","id","user","name","src","urls","small","title","description","alt","alt_description","search","searchPhotos","breakpointCols","columnClassName","onClick","loadMore","ErrorContainer","UrlErrorContainer","fail","App","loadMorePages","searchValue","fetchData","backToRandom","getTheValue","showRandomButton","searchError","urlError","url","accessKey","process","REACT_APP_API_KEY","show","fetch","method","response","json","allPhotos","results","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3d8ed196.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fail.e3c65c50.webp\";","import React from \"react\";\nimport Loader from 'react-loader-spinner';\n\nconst LoaderContainer = () => {\n    return(\n        <Loader\n           className=\"loader\"\n           type=\"Circles\"\n           color=\"#00BFFF\"\n           height={40}\n           width={40}\n           timeout={3000}\n        />\n       );\n};\n\nexport default LoaderContainer;","import React from \"react\";\nimport { DebounceInput } from \"react-debounce-input\";\nimport LoaderContainer from \"./LoaderContainer\";\n\nclass SearchContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      warning: false,\n      page: 1,\n      loading: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      value: e.target.value,\n      warning: false,\n      page: 1,\n      loading: false\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.state.value.length > 2) {\n      this.props.handleSearch(this.state.value);\n      this.setState({ value: \"\", loading: true });\n    } else {\n      this.setState({ warning: true });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"search-container\">\n        <form className=\"photo-search-form\" onSubmit={this.handleSubmit}>\n          <label className=\"input-keyword\">\n            <DebounceInput\n              type=\"text\"\n              minLength={2}\n              debounceTimeout={300}\n              onChange={this.handleChange}\n              value={this.state.value}\n            />\n          </label>\n          <input className=\"search-button\" type=\"submit\" value=\"Search\" />\n        </form>\n        {this.state.loading && (\n          <LoaderContainer></LoaderContainer>\n          )}\n        {this.state.warning && (\n          <small>Keyword must be at least 3 characters!</small>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default SearchContainer;\n","import React from \"react\";\nimport Masonry from \"react-masonry-css\";\n\nclass PhotoContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      breakpointColumnsObj: {\n        default: 4,\n        1200: 3,\n        1000: 2,\n        800: 1,\n        600: 1\n      }\n    };\n  }\n\n  getValue = value => {\n    this.props.handleSearch(value);\n  };\n\n  render() {\n    const breakpointColumnsObj = this.state.breakpointColumnsObj;\n    const random = this.props.randomPhotos;\n    const value = this.props.value;\n    const all = random.map(el => {\n      return (\n        <div className=\"img\" key={el.id}>\n          <p>Photo by {el.user.name}</p>\n          <img\n            className=\"photo-img\"\n            src={el.urls.small}\n            title={el.description}\n            alt={el.alt_description}\n          />\n        </div>\n      );\n    });\n    const searched = this.props.searchPhotos;\n    const search = searched.map(el => {\n      return (\n        <div className=\"img\" key={el.id}>\n          <p className=\"photo-owner\">Photo by {el.user.name}</p>\n          <img\n            className=\"photo-img\"\n            src={el.urls.small}\n            title={el.description}\n            alt={el.alt_description}\n          />\n        </div>\n      );\n    });\n    return (\n      <div>\n        <Masonry\n          breakpointCols={breakpointColumnsObj}\n          className=\"my-masonry-grid\"\n          columnClassName=\"my-masonry-grid_column\"\n        >\n          {value ? search : all}\n        </Masonry>\n        <div className=\"load-more-button-wrapper\">\n          <button type=\"button\" onClick={this.props.loadMore} className=\"load-more-button\">\n            Load More\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PhotoContainer;\n","import React from \"react\";\n\nconst ErrorContainer = () => {\n  return (\n    <div>\n      <p className=\"error-message\">\n        No image has been found with this keyword :( You can try again with\n        another keyword, or go back to Random Photos!\n      </p>\n    </div>\n  );\n};\n\nexport default ErrorContainer;\n","import React from \"react\";\nimport fail from \"../images/fail.webp\";\n\nconst UrlErrorContainer = () => {\n  return (\n    <div>\n      <p className=\"error-message\">Something is wrong with the url!</p>\n      <img className=\"fail-message\" src={fail} alt=\"fail\"></img>\n    </div>\n  );\n};\n\nexport default UrlErrorContainer;\n","import React from \"react\";\nimport \"../css/App.scss\";\n//import Unsplash from \"unsplash-js\";\nimport SearchContainer from \"./SearchContainer\";\nimport PhotoContainer from \"./PhotoContainer\";\nimport ErrorContainer from \"./ErrorContainer\";\n//import photos from \"unsplash-js/lib/methods/photos\";\nimport UrlErrorContainer from \"./UrlErrorContainer\";\nimport LoaderContainer from \"./LoaderContainer\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      randomPhotos: [],\n      searchPhotos: [],\n      value: \"\",\n      showRandomButton: false,\n      searchError: false,\n      urlError: false,\n      page: 1\n    };\n    this.fetchData = this.fetchData.bind(this);\n    this.loadMorePages = this.loadMorePages.bind(this);\n    this.backToRandom = this.backToRandom.bind(this);\n    this.getTheValue = this.getTheValue.bind(this);\n  }\n\n  async fetchData(value) {\n    let url = \"\";\n    const accessKey = `${process.env.REACT_APP_API_KEY}`;\n    let show = false;\n\n    if (value) {\n      show = true;\n      url = `https://api.unsplash.com/search/photos?client_id=${accessKey}&page=${this.state.page}&per_page=14&query=${value}`;\n      this.setState({ page: this.state.page + 1 });\n    } else {\n      show = false;\n      this.setState({ page: this.state.page + 1 });\n      url = `https://api.unsplash.com/photos?client_id=${accessKey}&page=${this.state.page}&per_page=14`;\n    }\n\n    try {\n      const response = await fetch(url, {\n        method: \"get\"\n      });\n      const allPhotos = await response.json();\n      const searchPhotos = allPhotos.results;\n\n      if (allPhotos.length > 0) {\n        this.setState({\n          randomPhotos: [...this.state.randomPhotos, ...allPhotos],\n          value: value,\n          showRandomButton: show,\n          searchError: false\n        });\n      } else if (searchPhotos.length > 0) {\n        this.setState({\n          searchPhotos: [...this.state.searchPhotos, ...searchPhotos],\n          value: value,\n          showRandomButton: show,\n          searchError: false\n        });\n      } else {\n        this.setState({\n          showRandomButton: show,\n          searchError: true\n        });\n      }\n    } catch (error) {\n      this.setState({\n        urlError: true\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  loadMorePages = () => {\n    let searchValue = this.state.value;\n    if (searchValue) {\n      this.fetchData(searchValue);\n    } else {\n      this.fetchData();\n    }\n  };\n\n  backToRandom = () => {\n    this.setState({\n      value: \"\"\n    });\n    this.fetchData();\n  };\n\n  getTheValue = value => {\n    this.setState({\n      randomPhotos: [],\n      searchPhotos: []\n    });\n    this.fetchData(value);\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <SearchContainer\n          handleSearch={this.getTheValue}\n          page={this.state.page}\n        ></SearchContainer>\n        {this.state.showRandomButton && (\n          <div>\n            <button className=\"random-button\" onClick={this.backToRandom}>\n              Back To Random Photos\n            </button>\n          </div>\n        )}\n\n        {this.state.searchError ? (\n          <ErrorContainer></ErrorContainer>\n        ) : this.state.urlError ? (\n          <UrlErrorContainer></UrlErrorContainer>\n        ) : (\n          <PhotoContainer\n            randomPhotos={this.state.randomPhotos}\n            searchPhotos={this.state.searchPhotos}\n            value={this.state.value}\n            loadMore={this.loadMorePages}\n          ></PhotoContainer>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"../src/components/App.js\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}